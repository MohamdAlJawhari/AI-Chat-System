############################################
# Application Core
############################################
APP_NAME="AI Chat System"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US


############################################
# LLM / Ollama Configuration
############################################
# Base URL for the Ollama or LLM HTTP API
OLLAMA_URL=http://localhost:11434

# Primary model used for chat generation
LLM_BASE_URL=http://127.0.0.1:11434
LLM_MODEL=gpt-oss

# Secondary model (routing, filters, fast tasks)
LLM_MODEL2=mistral

# Global system message for context
LLM_SYSTEM="You are a media assistant called UChat"

# Generation parameters
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9
LLM_TOP_K=40
LLM_REPEAT_PENALTY=1.07
LLM_NUM_CTX=4096
LLM_NUM_PREDICT=2048
LLM_SEED=null
LLM_HTTP_TIMEOUT=120


############################################
# RAG — Automatic Archive Routing
############################################
# AI decides whether archive is needed
RAG_AUTO_ARCHIVE=true
RAG_AUTO_ARCHIVE_MODEL=mistral
RAG_AUTO_ARCHIVE_TIMEOUT=8


############################################
# RAG — Retrieval Parameters (Performance Tuning)
############################################
# Max number of documents retrieved
RAG_DOC_LIMIT=20

# How many chunks per document to return
RAG_PER_DOC=2

# Maximum characters per chunk
RAG_BODY_CHAR_LIMIT=300

# Precomputed summary settings
RAG_SUMMARY_INPUT_CHAR_LIMIT=12000
RAG_SUMMARY_MAX_CHARS=1200
RAG_SUMMARY_PAUSE_KEY=chat.active
RAG_SUMMARY_PAUSE_TTL=600

# HNSW ef_search parameter (higher = better recall, slower)
RAG_HNSW_EF_SEARCH=80

# Enable/disable LLM query rewriting for hybrid search
RAG_QUERY_REWRITE=false


############################################
# RAG — Routing/Filter Decisions
############################################
# Models used for routing decisions + rewriting
RAG_AUTO_ROUTER_MODEL=mistral
RAG_QUERY_REWRITE_MODEL=mistral

# Timeouts (seconds)
RAG_AUTO_ROUTER_TIMEOUT=8
RAG_QUERY_REWRITE_TIMEOUT=8

# Maximum allowed selected values
RAG_AUTO_ROUTER_MAX_VALUES=30
RAG_AUTO_ROUTER_MAX_VALUES_COUNTRY=20


############################################
# Maintenance / Runtime / Security
############################################
APP_MAINTENANCE_DRIVER=file
PHP_CLI_SERVER_WORKERS=4
BCRYPT_ROUNDS=12


############################################
# Logging
############################################
LOG_CHANNEL=stack
LOG_STACK=single
LOG_LEVEL=debug
LOG_DEPRECATIONS_CHANNEL=null


############################################
# Database (PostgreSQL)
############################################
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=ai_chat_db
DB_USERNAME=ai_user
DB_PASSWORD=


############################################
# Sessions / Cache / Storage
############################################
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

FILESYSTEM_DISK=local
QUEUE_CONNECTION=database
CACHE_STORE=database


############################################
# Redis / Memcached
############################################
MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379


############################################
# Mail
############################################
MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"


############################################
# AWS (Optional / S3)
############################################
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false


############################################
# Frontend Build (Vite)
############################################
VITE_APP_NAME="${APP_NAME}"
